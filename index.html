<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×”×—×¤×¨×¤×¨×ª</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background: #f4f7f6; padding: 20px; direction: rtl; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); max-width: 450px; margin: auto; }
        h2 { color: #2c3e50; }
        button { background-color: #3498db; color: white; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; font-size: 18px; margin: 10px 5px; font-weight: bold; width: 80%; }
        button:hover { background-color: #2980b9; }
        input { padding: 12px; width: 85%; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; text-align: center; }
        .hidden { display: none !important; }
        .highlight { background: #fff9c4; padding: 15px; border-radius: 10px; border: 2px solid #fbc02d; margin: 15px 0; font-size: 1.1em; font-weight: bold; }
        .secret-text { font-size: 24px; color: #27ae60; margin: 15px 0; font-weight: bold; }
        .vote-btn { background-color: #9b59b6; width: auto; min-width: 120px; }
    </style>
</head>
<body>

<div class="card" id="s-start">
    <h2>ğŸ•µï¸ ××©×—×§ ×”×—×¤×¨×¤×¨×ª</h2>
    <p>×”×›× ×™×¡×• ×©××•×ª ××©×ª×ª×¤×™× (××•×¤×¨×“×™× ×‘×¤×¡×™×§×™×):</p>
    <input type="text" id="names" placeholder="×œ××©×œ: ×™×•×‘×œ, ××•×¨×™, ×××™×”, ×¨×•× ×™">
    <br>
    <button onclick="startGame()">×”×ª×—×œ ××©×—×§!</button>
</div>

<div class="card hidden" id="s-reveal">
    <h3 id="pName"></h3>
    <p>×”×¢×‘×™×¨×• ××ª ×”×˜×œ×¤×•×Ÿ ×œ×©×—×§×Ÿ ×©××•×¤×™×¢ ×œ××¢×œ×”.</p>
    <button id="showBtn" onclick="revealSecret()">×œ×—×¥ ×œ×—×©×™×¤×ª ×”××™×œ×” ğŸ¤«</button>
    <div id="secretBox" class="hidden">
        <div id="info" class="secret-text"></div>
        <button onclick="nextPlayer()">×”×‘× ×ª×™, ×”×¢×‘×¨ ×”×œ××”</button>
    </div>
</div>

<div class="card hidden" id="s-game">
    <h3>ğŸ® ×©×œ×‘ ×”×©××œ×•×ª</h3>
    <div class="highlight" id="qTurn"></div>
    <div class="highlight" style="background:#e1f5fe; border-color:#81d4fa;">
        ×”×©××œ×”: <br><span id="qText" style="color:#0277bd;"></span>
    </div>
    <button onclick="nextQuestion()">×”×©××œ×” ×”×‘××” â¡ï¸</button>
</div>

<div class="card hidden" id="s-vote">
    <h3 id="voterTitle"></h3>
    <p>×‘××™ ××ª/×” ×—×•×©×“/×ª ×›×—×¤×¨×¤×¨×ª?</p>
    <div id="voteButtons"></div>
</div>

<div class="card hidden" id="s-results">
    <h2>×”×ª×•×¦××•×ª! ğŸ“¢</h2>
    <p>×”×¨××• ××ª ×”××¡×š ×œ×›×•×œ×...</p>
    <h1 id="winMsg"></h1>
    <p id="spyReveal" style="font-size:18px;"></p>
    <button onclick="location.reload()" style="background:#333;">××©×—×§ ×—×“×© ğŸ”„</button>
</div>

<script>
    let players = [], spy = "", word = "", pIdx = 0, qIdx = 0, votes = {};
    
    const words = ["×¤×™×¦×”", "×”××‘×•×¨×’×¨", "×¡×•×©×™", "×’×œ×™×“×”", "×¤×œ××¤×œ", "×¡×˜×™×™×§", "×¤×¡×˜×”", "×©×•×§×•×œ×“", "××œ×•×•×—"];
    const questions = [
        "×”×× ×”×××›×œ ×”×–×” ×‘×“×¨×š ×›×œ×œ ×—×?",
        "×”×× ×–×” ××©×”×• ×©×™×œ×“×™× ××•×”×‘×™× ×××•×“?",
        "×”×× ××•×›×œ×™× ××ª ×–×” ×‘×™×“×™×™×?",
        "×”×× ×–×” ××ª×•×§?",
        "×”×× ×™×© ×‘×–×” ×‘×¦×§?",
        "×”×× ×–×” × ×—×©×‘ ×œ××•×›×œ ×‘×¨×™×?",
        "×”×× ×–×” ×™×§×¨ ×‘××¡×¢×“×•×ª?",
        "×”×× ××¤×©×¨ ×œ××¦×•× ××ª ×–×” ×‘××§×¤×™×?",
        "×”×× ×–×” ××’×™×¢ ×¢× ×ª×•×¡×¤×ª ×‘×¦×“?",
        "×”×× ×–×” ××©×”×• ×©××•×›×œ×™× ×‘×“×¨×š ×›×œ×œ ×‘×—×•×¥?"
    ];

    function startGame() {
        const val = document.getElementById('names').value;
        players = val.split(',').map(s => s.trim()).filter(s => s !== "");
        if (players.length < 3) return alert("×¦×¨×™×š ×œ×¤×—×•×ª 3 ×©×—×§× ×™×!");
        
        spy = players[Math.floor(Math.random() * players.length)];
        word = words[Math.floor(Math.random() * words.length)];
        players.forEach(p => votes[p] = 0);
        
        document.getElementById('s-start').classList.add('hidden');
        document.getElementById('s-reveal').classList.remove('hidden');
        updateRevealScreen();
    }

    function updateRevealScreen() {
        document.getElementById('pName').innerText = "×ª×•×¨ ×”×©×—×§×Ÿ: " + players[pIdx];
        document.getElementById('secretBox').classList.add('hidden');
        document.getElementById('showBtn').classList.remove('hidden');
    }

    function revealSecret() {
        const info = document.getElementById('info');
        if (players[pIdx] === spy) {
            info.innerHTML = "××ª/×” ×”×—×¤×¨×¤×¨×ª! ğŸ•µï¸<br><small style='font-size:14px; color:#666;'>× ×¡×” ×œ×’×œ×•×ª ××” ×”××™×œ×” ×‘×œ×™ ×©×™×—×©×“×• ×‘×š</small>";
        } else {
            info.innerText = "×”××™×œ×” ×”×™×: " + word;
        }
        document.getElementById('secretBox').classList.remove('hidden');
        document.getElementById('showBtn').classList.add('hidden');
    }

    function nextPlayer() {
        pIdx++;
        if (pIdx < players.length) {
            updateRevealScreen();
        } else {
            document.getElementById('s-reveal').classList.add('hidden');
            document.getElementById('s-game').classList.remove('hidden');
            nextQuestion();
        }
    }

    function nextQuestion() {
        if (qIdx < questions.length) {
            let asker = players[Math.floor(Math.random() * players.length)];
            let answerer = players[Math.floor(Math.random() * players.length)];
            while (asker === answerer) {
                answerer = players[Math.floor(Math.random() * players.length)];
            }
            
            document.getElementById('qTurn').innerText = asker + " ×©×•××œ/×ª ××ª " + answerer;
            document.getElementById('qText').innerText = questions[qIdx];
            qIdx++;
        } else {
            startVoting();
        }
    }

    function startVoting() {
        pIdx = 0;
        document.getElementById('s-game').classList.add('hidden');
        document.getElementById('s-vote').classList.remove('hidden');
        updateVoteScreen();
    }

    function updateVoteScreen() {
        document.getElementById('voterTitle').innerText = "×”×¦×‘×¢×”: " + players[pIdx];
        let btns = "";
        players.forEach(p => {
            if (p !== players[pIdx]) {
                btns += <button class="vote-btn" onclick="castVote('${p}')">${p}</button>;
            }
        });
        document.getElementById('voteButtons').innerHTML = btns;
    }

    function castVote(target) {
        votes[target]++;
        pIdx++;
        if (pIdx < players.length) {
            updateVoteScreen();
        } else {
            showFinalResults();
        }
    }

    function showFinalResults() {
        document.getElementById('s-vote').classList.add('hidden');
        document.getElementById('s-results').classList.remove('hidden');
        
        let mostVoted = Object.keys(votes).reduce((a, b) => votes[a] > votes[b] ? a : b);
        
        const msg = document.getElementById('winMsg');
        if (mostVoted === spy) {
            msg.innerText = "×ª×¤×¡×ª× ××ª ×”×—×¤×¨×¤×¨×ª! ğŸ‰";
            msg.style.color = "#27ae60";
        } else {
            msg.innerText = "×”×—×¤×¨×¤×¨×ª × ×™×¦×—×”! ğŸ˜ˆ";
            msg.style.color = "#e74c3c";
        }
        document.getElementById('spyReveal').innerText = "×”×—×¤×¨×¤×¨×ª ×”×™×™×ª×”: " + spy;
    }
</script>

</body>
</html>
××ª/×”, ×¢×›×©×™×•
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××©×—×§ ×”×—×¤×¨×¤×¨×ª</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; text-align: center; background: #f4f7f6; padding: 20px; direction: rtl; }
        .card { background: white; padding: 25px; border-radius: 20px; box-shadow: 0 8px 16px rgba(0,0,0,0.1); max-width: 450px; margin: auto; }
        button { background-color: #3498db; color: white; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; font-size: 18px; margin: 10px 5px; font-weight: bold; width: 85%; }
        input { padding: 12px; width: 85%; margin-bottom: 15px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; text-align: center; }
        .hidden { display: none !important; }
        .highlight { background: #fff9c4; padding: 15px; border-radius: 10px; border: 2px solid #fbc02d; margin: 15px 0; font-weight: bold; }
    </style>
</head>
<body>
    <div class="card" id="s-start">
        <h2>ğŸ•µï¸ ××©×—×§ ×”×—×¤×¨×¤×¨×ª</h2>
        <input type="text" id="names" placeholder="×©××•×ª ×¢× ×¤×¡×™×§×™× (× ×•×¢×”, ×“×Ÿ, ×©×™)">
        <button onclick="startGame()">×”×ª×—×œ ××©×—×§!</button>
    </div>
    <div class="card hidden" id="s-reveal">
        <h3 id="pName"></h3>
        <button id="showBtn" onclick="revealSecret()">×—×©×•×£ ××™×œ×” ğŸ¤«</button>
        <div id="secretBox" class="hidden">
            <p id="info" style="font-size:22px; font-weight:bold; color:#27ae60;"></p>
            <button onclick="nextPlayer()">×”×‘× ×ª×™, ×”×¢×‘×¨ ×”×œ××”</button>
        </div>
    </div>
    <div class="card hidden" id="s-game">
        <h3>ğŸ® ×©×œ×‘ ×”×©××œ×•×ª</h3>
        <div class="highlight" id="qTurn"></div>
        <div class="highlight" style="background:#e1f5fe; border-color:#81d4fa;"> ×”×©××œ×”: <span id="qText"></span></div>
        <button onclick="nextQuestion()">×”×©××œ×” ×”×‘××” â¡ï¸</button>
    </div>
    <div class="card hidden" id="s-vote">
        <h3 id="voterTitle"></h3>
        <div id="voteButtons"></div>
    </div>
    <div class="card hidden" id="s-results">
        <h1 id="winMsg"></h1>
        <p id="spyReveal"></p>
        <button onclick="location.reload()">××©×—×§ ×—×“×© ğŸ”„</button>
    </div>

<script>
    let players=[], spy="", word="", pIdx=0, qIdx=0, votes={};
    const words=["×¤×™×¦×”", "×”××‘×•×¨×’×¨", "×¡×•×©×™", "×’×œ×™×“×”", "×¤×œ××¤×œ", "×¤×¡×˜×”", "×©×•×§×•×œ×“"];
    const questions=["×”×× ×–×” ×—×?", "×”×× ××•×›×œ×™× ××ª ×–×” ×‘×™×“×™×™×?", "×”×× ×–×” ××ª×•×§?", "×”×× ×™×© ×‘×–×” ×‘×¦×§?", "×”×× ×–×” ×™×§×¨?", "×”×× ×™×œ×“×™× ××•×”×‘×™× ××ª ×–×”?"];

    function startGame() {
        let v = document.getElementById('names').value;
        players = v.split(',').map(s=>s.trim()).filter(s=>s!=="");
        if(players.length < 3) return alert("×¦×¨×™×š 3 ×©×—×§× ×™×!");
        spy = players[Math.floor(Math.random()*players.length)];
        word = words[Math.floor(Math.random()*words.length)];
        players.forEach(p=>votes[p]=0);
        document.getElementById('s-start').classList.add('hidden');
        document.getElementById('s-reveal').classList.remove('hidden');
        updateP();
    }
    function updateP() {
        document.getElementById('pName').innerText = "×ª×•×¨: " + players[pIdx];
        document.getElementById('secretBox').classList.add('hidden');
        document.getElementById('showBtn').classList.remove('hidden');
    }
    function revealSecret() {
        document.getElementById('info').innerText = (players[pIdx]===spy) ? "××ª×” ×”×—×¤×¨×¤×¨×ª! ğŸ•µï¸" : "×”××™×œ×”: " + word;
        document.getElementById('secretBox').classList.remove('hidden');
        document.getElementById('showBtn').classList.add('hidden');
    }
    function nextPlayer() {
        pIdx++;
        if(pIdx < players.length) updateP();
        else { document.getElementById('s-reveal').classList.add('hidden'); document.getElementById('s-game').classList.remove('hidden'); nextQuestion(); }
    }
    function nextQuestion() {
        if(qIdx < questions.length) {
            let a=Math.floor(Math.random()*players.length), b=Math.floor(Math.random()*players.length);
            while(a===b) b=Math.floor(Math.random()*players.length);
            document.getElementById('qTurn').innerText = players[a] + " ×©×•××œ/×ª ××ª " + players[b];
            document.getElementById('qText').innerText = questions[qIdx++];
        } else { startVote(); }
    }
    function startVote() {
        pIdx=0; document.getElementById('s-game').classList.add('hidden'); document.getElementById('s-vote').classList.remove('hidden'); updateVote();
    }
    function updateVote() {
        document.getElementById('voterTitle').innerText = "×”×¦×‘×¢×”: " + players[pIdx];
        let h = ""; players.forEach(p => { if(p!==players[pIdx]) h += <button onclick="doVote('${p}')">${p}</button>; });
        document.getElementById('voteButtons').innerHTML = h;
    }
    function doVote(p) {
        votes[p]++; pIdx++;
        if(pIdx < players.length) updateVote();
        else {
            document.getElementById('s-vote').classList.add('hidden'); document.getElementById('s-results').classList.remove('hidden');
            let win = Object.keys(votes).reduce((a,b)=>votes[a]>votes[b]?a:b);
            document.getElementById('winMsg').innerText = (win===spy) ? "×ª×¤×¡×ª× ××•×ª×”! ğŸ‰" : "×”×—×¤×¨×¤×¨×ª × ×™×¦×—×”! ğŸ˜ˆ";
            document.getElementById('spyReveal').innerText = "×”×—×¤×¨×¤×¨×ª ×”×™×™×ª×”: " + spy;
        }
    }
</script>
</body>
</html>
